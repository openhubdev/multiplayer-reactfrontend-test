(this["webpackJsonpsimple-multiplayer-client"]=this["webpackJsonpsimple-multiplayer-client"]||[]).push([[0],{64:function(e,t,n){},65:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),o=n(31),s=n.n(o),a=(n(64),n(5)),r=(n(65),n(38)),l=n(4),u=n(6),d=n(58),j=n.n(d),b=new(function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"init",value:function(e,t,n,c){var i=this;this.socket=j.a.connect(e),this.socket.on("connect",(function(){n(i.socket.id),i.socket.on("stateUpdate",c),i.socket.emit("initialize",{color:t})}))}},{key:"sendPosition",value:function(e){this.socket.emit("positionUpdate",e)}}]),e}()),f=n(10);function p(e){var t=e.position,n=e.color,c=void 0===n?"red":n,i=Object(r.useSpring)({transform:"translate3d(".concat(t.x,"px, ").concat(t.y,"px ,0)"),config:{mass:1,tension:70,friction:10}});return Object(f.jsx)(r.animated.div,{className:"player ".concat(c),style:i})}var m=function(){var e=Object(c.useState)({x:0,y:0}),t=Object(a.a)(e,2),n=t[0],i=t[1],o=Object(c.useState)({x:250,y:250}),s=Object(a.a)(o,2),r=s[0],l=s[1],u=Object(c.useState)(null),d=Object(a.a)(u,2),j=d[0],m=d[1],O=Object(c.useState)(null),v=Object(a.a)(O,2),x=v[0],y=v[1],h=Object(c.useState)({}),w=Object(a.a)(h,2),k=w[0],g=w[1],S=function(e){g(e)};Object(c.useEffect)((function(){var e=Math.random(),t=e<.33?"red":e<.66?"blue":"green";m(t),b.init("https://simple-multiplayer-server.glitch.me",t,y,S)}),[]);var E=function(){i(function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,c=window.pageYOffset||document.documentElement.scrollTop;return{x:t.left+n,y:t.top+c}}(document.querySelector(".board")))};return Object(c.useEffect)((function(){return E(),window.addEventListener("resize",E),function(){window.removeEventListener("resize",E)}}),[]),Object(f.jsx)("div",{className:"app",children:Object(f.jsx)("div",{className:"board",onPointerDown:function(e){var t,c,i=e.clientX,o=e.clientY;t=i-n.x,c=o-n.y,l({x:t,y:c}),b.sendPosition({x:t,y:c})},children:Object(f.jsxs)("div",{className:"metaballs",children:[Object.entries(k).map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];return n===x?null:Object(f.jsx)(p,{position:c.position,color:c.color},"player".concat(n))})),Object(f.jsx)(p,{position:r,color:j})]})})})};s.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(m,{})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.2f99377c.chunk.js.map